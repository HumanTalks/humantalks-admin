@import com.humantalks.internal.meetups.Meetup
@import com.humantalks.internal.talks.Talk
@import com.humantalks.internal.persons.Person
@import com.humantalks.internal.venues.Venue
@import com.humantalks.internal.views.html.partials._
@import com.humantalks.internal.meetups.routes.MeetupCtrl
@(meetupForm: Form[Meetup.Data], talkForm: Form[Talk.Data], personForm: Form[Person.Data], meetupOpt: Option[Meetup], allTalks: List[Talk], allPersons: List[Person], allVenues: List[Venue])(implicit messagesApi: MessagesApi)
@main("Nouveau meetup") {
    @header("meetup")

    <div class="container" role="main">
        <div class="page-header">
            <h1>@meetupOpt.map{ p => Modifier @p.data.title}.getOrElse{Ajouter un meetup}</h1>
        </div>

        <div class="row">
            <div class="col-md-12">
            @helper.form(action=meetupOpt.map(p => MeetupCtrl.doUpdate(p.id)).getOrElse(MeetupCtrl.doCreate()), 'class->"form-horizontal meetup-form") {
                @partials.fields(meetupForm, allTalks, allPersons, allVenues)
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        @meetupOpt.map{p => <a href="@MeetupCtrl.get(p.id)" class="btn btn-default btn-lg">Annuler</a>}
                        <button type="submit" class="btn btn-primary btn-lg">@meetupOpt.map{ p => Modifier @p.data.title}.getOrElse{Ajouter le meetup}</button>
                    </div>
                </div>
            }
            </div>
        </div>
    </div>

    @com.humantalks.internal.talks.views.html.partials.createModal(talkForm, allPersons)
    @com.humantalks.internal.persons.views.html.partials.createModal(personForm)
}